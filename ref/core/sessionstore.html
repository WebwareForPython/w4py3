
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>SessionStore &#8212; Webware for Python 3 3.0.10 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="SidebarPage" href="sidebarpage.html" />
    <link rel="prev" title="SessionShelveStore" href="sessionshelvestore.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-SessionStore">
<span id="sessionstore"></span><h1>SessionStore<a class="headerlink" href="#module-SessionStore" title="Permalink to this heading">¶</a></h1>
<p>A general session store.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SessionStore.SessionStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">SessionStore.</span></span><span class="sig-name descname"><span class="pre">SessionStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A general session store.</p>
<p>SessionStores are dictionary-like objects used by Application to
store session state. This class is abstract and it’s up to the
concrete subclass to implement several key methods that determine
how sessions are stored (such as in memory, on disk or in a
database). We assume that session keys are always strings.</p>
<p>Subclasses often encode sessions for storage somewhere. In light
of that, this class also defines methods encoder(), decoder() and
setEncoderDecoder(). The encoder and decoder default to the load()
and dump() functions of the pickle module. However, using the
setEncoderDecoder() method, you can use the functions from marshal
(if appropriate) or your own encoding scheme. Subclasses should use
encoder() and decoder() (and not pickle.load() and pickle.dump()).</p>
<p>Subclasses may rely on the attribute self._app to point to the
application.</p>
<p>Subclasses should be named SessionFooStore since Application
expects “Foo” to appear for the “SessionStore” setting and
automatically prepends Session and appends Store. Currently, you
will also need to add another import statement in Application.py.
Search for SessionStore and you’ll find the place.</p>
<p>TO DO</p>
<blockquote>
<div><ul class="simple">
<li><p>Should there be a check-in/check-out strategy for sessions to
prevent concurrent requests on the same session? If so, that can
probably be done at this level (as opposed to pushing the burden
on various subclasses).</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the session store.</p>
<p>Subclasses must invoke super.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.application">
<span class="sig-name descname"><span class="pre">application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.application" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the application owning the session store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.cleanStaleSessions">
<span class="sig-name descname"><span class="pre">cleanStaleSessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.cleanStaleSessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean stale sessions.</p>
<p>Called by the Application to tell this store to clean out all
sessions that have exceeded their lifetime.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the session store, removing all of its items.</p>
<p>Subclasses must implement this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.decoder">
<span class="sig-name descname"><span class="pre">decoder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value deserializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.encoder">
<span class="sig-name descname"><span class="pre">encoder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value serializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value if key available, else return the default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.has_key">
<span class="sig-name descname"><span class="pre">has_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.has_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the session store has a given key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the (key, value) pairs for all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the (key, value) pairs for all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.iterkeys">
<span class="sig-name descname"><span class="pre">iterkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the stored session keys.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.itervalues">
<span class="sig-name descname"><span class="pre">itervalues</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.itervalues" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the stored values of all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the keys of all the stored sessions.</p>
<p>Subclasses must implement this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value if key available, else default (also remove key).</p>
<p>Subclasses must implement this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.setEncoderDecoder">
<span class="sig-name descname"><span class="pre">setEncoderDecoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.setEncoderDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the serializer and deserializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value if key available, else default (also setting it).</p>
<p>Subclasses must implement this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.storeAllSessions">
<span class="sig-name descname"><span class="pre">storeAllSessions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.storeAllSessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Permanently save all sessions in the store.</p>
<p>Used when the application server is shut down.</p>
<p>Subclasses must implement this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.storeSession">
<span class="sig-name descname"><span class="pre">storeSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.storeSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Save potentially changed session in the store.</p>
<p>Used at the end of transactions.</p>
<p>Subclasses must implement this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionStore.SessionStore.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.SessionStore.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the values of all stored sessions.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SessionStore.dumpWithHighestProtocol">
<span class="sig-prename descclassname"><span class="pre">SessionStore.</span></span><span class="sig-name descname"><span class="pre">dumpWithHighestProtocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionStore.dumpWithHighestProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as pickle.dump, but by default with the highest protocol.</p>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Webware for Python 3</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">List of Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migrate.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Beginner Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appdev.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plug-ins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../style.html">Style Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../psp.html">PSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userkit.html">UserKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskkit.html">TaskKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../webutils.html">WebUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../miscutils.html">MiscUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Core Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../psp/index.html">PSP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userkit/index.html">UserKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../taskkit/index.html">TaskKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webutils/index.html">WebUtils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscutils/index.html">MiscUtils</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">API Reference</a><ul>
  <li><a href="index.html">Core Classes</a><ul>
      <li>Previous: <a href="sessionshelvestore.html" title="previous chapter">SessionShelveStore</a></li>
      <li>Next: <a href="sidebarpage.html" title="next chapter">SidebarPage</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;1999-2023, Christoph Zwerschke et al.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/ref/core/sessionstore.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>