<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SessionMemcachedStore &#8212; Webware for Python 3 3.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=dd1205ac"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="SessionMemoryStore" href="sessionmemorystore.html" />
    <link rel="prev" title="SessionFileStore" href="sessionfilestore.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-SessionMemcachedStore">
<span id="sessionmemcachedstore"></span><h1>SessionMemcachedStore<a class="headerlink" href="#module-SessionMemcachedStore" title="Link to this heading">¶</a></h1>
<p>Session store using the Memcached memory object caching system.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">SessionMemcachedStore.</span></span><span class="sig-name descname"><span class="pre">SessionMemcachedStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sessionstore.html#SessionStore.SessionStore" title="SessionStore.SessionStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionStore</span></code></a></p>
<p>A session store using Memcached.</p>
<p>Stores the sessions in a single Memcached store using ‘last write wins’
semantics. This increases fault tolerance and allows server clustering.
In clustering configurations with concurrent writes for the same
session(s) the last writer will always overwrite the session.</p>
<p>The keys are prefixed with a configurable namespace, allowing you to
store other data in the same Memcached system.</p>
<p>Cleaning/timing out of sessions is performed by Memcached itself since
no single application can know about the existence of all sessions or
the last access for a given session. Besides it is built in Memcached
functionality. Consequently, correct sizing of Memcached is necessary
to hold all user’s session data.</p>
<p>Due to the way Memcached works, methods requiring access to the keys
or for clearing the store do not work. You can configure whether you
want to ignore such calls or raise an error in this case. By default,
you will get a warning. It would be possible to emulate these functions
by storing additional data in the memcache, such as a namespace counter
or the number or even the full list of keys. However, if you are using
more than one application instance, this would require fetching that data
every time, since we cannot know whether another instance changed it.
So we refrained from doing such sophisticated trickery and instead kept
the implementation intentionally very simple and fast.</p>
<p>You need to install python-memcached to be able to use this module:
<a class="reference external" href="https://www.tummy.com/software/python-memcached/">https://www.tummy.com/software/python-memcached/</a>
You also need a Memcached server: <a class="reference external" href="https://memcached.org/">https://memcached.org/</a></p>
<p>Contributed by Steve Schwarz, March 2010.
Small improvements by Christoph Zwerschke, April 2010.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the session store.</p>
<p>Subclasses must invoke super.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.application">
<span class="sig-name descname"><span class="pre">application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.application" title="Link to this definition">¶</a></dt>
<dd><p>Return the application owning the session store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.cleanStaleSessions">
<span class="sig-name descname"><span class="pre">cleanStaleSessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.cleanStaleSessions" title="Link to this definition">¶</a></dt>
<dd><p>Clean stale sessions.</p>
<p>Memcached does this on its own, so we do nothing here.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear the session store, removing all of its items.</p>
<p>Not supported by Memcached. We could emulate this by incrementing
an additional namespace counter, but then we would need to fetch
the current counter from the memcache before every access in order
to keep different application instances in sync.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.decoder">
<span class="sig-name descname"><span class="pre">decoder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.decoder" title="Link to this definition">¶</a></dt>
<dd><p>Return the value deserializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.encoder">
<span class="sig-name descname"><span class="pre">encoder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.encoder" title="Link to this definition">¶</a></dt>
<dd><p>Return the value serializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.get" title="Link to this definition">¶</a></dt>
<dd><p>Return value if key available, else return the default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.has_key">
<span class="sig-name descname"><span class="pre">has_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.has_key" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the session store has a given key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.items" title="Link to this definition">¶</a></dt>
<dd><p>Return a list with the (key, value) pairs for all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.iteritems" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterator over the (key, value) pairs for all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.iterkeys">
<span class="sig-name descname"><span class="pre">iterkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.iterkeys" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterator over the stored session keys.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.itervalues">
<span class="sig-name descname"><span class="pre">itervalues</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.itervalues" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterator over the stored values of all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.keys" title="Link to this definition">¶</a></dt>
<dd><p>Return a list with the keys of all the stored sessions.</p>
<p>Not supported by Memcached (see FAQ for explanation).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.mcKey">
<span class="sig-name descname"><span class="pre">mcKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.mcKey" title="Link to this definition">¶</a></dt>
<dd><p>Create the real key with namespace to be used with Memcached.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=&lt;class</span> <span class="pre">'MiscUtils.NoDefault'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.pop" title="Link to this definition">¶</a></dt>
<dd><p>Return value if key available, else default (also remove key).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.setEncoderDecoder">
<span class="sig-name descname"><span class="pre">setEncoderDecoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.setEncoderDecoder" title="Link to this definition">¶</a></dt>
<dd><p>Set the serializer and deserializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.setdefault" title="Link to this definition">¶</a></dt>
<dd><p>Return value if key available, else default (also setting it).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.storeAllSessions">
<span class="sig-name descname"><span class="pre">storeAllSessions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.storeAllSessions" title="Link to this definition">¶</a></dt>
<dd><p>Permanently save all sessions in the store.</p>
<p>Should be used (only) when the application server is shut down.
This closes the connection to the Memcached servers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.storeSession">
<span class="sig-name descname"><span class="pre">storeSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.storeSession" title="Link to this definition">¶</a></dt>
<dd><p>Save potentially changed session in the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionMemcachedStore.SessionMemcachedStore.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionMemcachedStore.SessionMemcachedStore.values" title="Link to this definition">¶</a></dt>
<dd><p>Return a list with the values of all stored sessions.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Webware for Python 3</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">List of Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migrate.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Beginner Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appdev.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plug-ins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../style.html">Style Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../psp.html">PSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userkit.html">UserKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskkit.html">TaskKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../webutils.html">WebUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../miscutils.html">MiscUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Core Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../psp/index.html">PSP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userkit/index.html">UserKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../taskkit/index.html">TaskKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webutils/index.html">WebUtils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscutils/index.html">MiscUtils</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">API Reference</a><ul>
  <li><a href="index.html">Core Classes</a><ul>
      <li>Previous: <a href="sessionfilestore.html" title="previous chapter">SessionFileStore</a></li>
      <li>Next: <a href="sessionmemorystore.html" title="next chapter">SessionMemoryStore</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;1999-2025, Christoph Zwerschke et al.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/ref/core/sessionmemcachedstore.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>