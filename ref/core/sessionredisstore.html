
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>SessionRedisStore &#8212; Webware for Python 3 3.0.10 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="SessionShelveStore" href="sessionshelvestore.html" />
    <link rel="prev" title="SessionMemoryStore" href="sessionmemorystore.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-SessionRedisStore">
<span id="sessionredisstore"></span><h1>SessionRedisStore<a class="headerlink" href="#module-SessionRedisStore" title="Permalink to this heading">¶</a></h1>
<p>Session store using the Redis in-memory data store.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">SessionRedisStore.</span></span><span class="sig-name descname"><span class="pre">SessionRedisStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sessionstore.html#SessionStore.SessionStore" title="SessionStore.SessionStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionStore</span></code></a></p>
<p>A session store using Redis.</p>
<p>Stores the sessions in a single Redis store using ‘last write wins’
semantics. This increases fault tolerance and allows server clustering.
In clustering configurations with concurrent writes for the same
session(s) the last writer will always overwrite the session.</p>
<p>The keys are prefixed with a configurable namespace, allowing you to
store other data in the same Redis system.</p>
<p>Cleaning/timing out of sessions is performed by Redis itself since
no single application can know about the existence of all sessions or
the last access for a given session. Besides it is built in Redis
functionality. Consequently, correct sizing of Redis is necessary
to hold all user’s session data.</p>
<p>You need to install the redis client to be able to use this module:
<a class="reference external" href="https://pypi.python.org/pypi/redis">https://pypi.python.org/pypi/redis</a>
You also need a Redis server: <a class="reference external" href="https://redis.io/">https://redis.io/</a></p>
<p>Contributed by Christoph Zwerschke, August 2016.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the session store.</p>
<p>Subclasses must invoke super.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.application">
<span class="sig-name descname"><span class="pre">application</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.application" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the application owning the session store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.cleanStaleSessions">
<span class="sig-name descname"><span class="pre">cleanStaleSessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.cleanStaleSessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean stale sessions.</p>
<p>Redis does this on its own, so we do nothing here.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the session store, removing all of its items.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.decoder">
<span class="sig-name descname"><span class="pre">decoder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value deserializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.encoder">
<span class="sig-name descname"><span class="pre">encoder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value serializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value if key available, else return the default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.has_key">
<span class="sig-name descname"><span class="pre">has_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.has_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the session store has a given key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the (key, value) pairs for all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.iteritems">
<span class="sig-name descname"><span class="pre">iteritems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the (key, value) pairs for all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.iterkeys">
<span class="sig-name descname"><span class="pre">iterkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the stored session keys.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.itervalues">
<span class="sig-name descname"><span class="pre">itervalues</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.itervalues" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the stored values of all sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the keys of all the stored sessions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=&lt;class</span> <span class="pre">'MiscUtils.NoDefault'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value if key available, else default (also remove key).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.redisKey">
<span class="sig-name descname"><span class="pre">redisKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.redisKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the real key with namespace to be used with Redis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.setEncoderDecoder">
<span class="sig-name descname"><span class="pre">setEncoderDecoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.setEncoderDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the serializer and deserializer for the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value if key available, else default (also setting it).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.storeAllSessions">
<span class="sig-name descname"><span class="pre">storeAllSessions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.storeAllSessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Permanently save all sessions in the store.</p>
<p>Should be used (only) when the application server is shut down.
This closes the connections to the Redis server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.storeSession">
<span class="sig-name descname"><span class="pre">storeSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.storeSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Save potentially changed session in the store.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SessionRedisStore.SessionRedisStore.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SessionRedisStore.SessionRedisStore.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the values of all stored sessions.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Webware for Python 3</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">List of Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migrate.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Beginner Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appdev.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plug-ins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../style.html">Style Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../psp.html">PSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userkit.html">UserKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskkit.html">TaskKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../webutils.html">WebUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../miscutils.html">MiscUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Core Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../psp/index.html">PSP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../userkit/index.html">UserKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../taskkit/index.html">TaskKit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webutils/index.html">WebUtils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscutils/index.html">MiscUtils</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">API Reference</a><ul>
  <li><a href="index.html">Core Classes</a><ul>
      <li>Previous: <a href="sessionmemorystore.html" title="previous chapter">SessionMemoryStore</a></li>
      <li>Next: <a href="sessionshelvestore.html" title="next chapter">SessionShelveStore</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;1999-2023, Christoph Zwerschke et al.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/ref/core/sessionredisstore.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>